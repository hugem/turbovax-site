{"ast":null,"code":"import _objectSpread from\"/Users/hugema/Dropbox/documents/coding/turbovax-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/Users/hugema/Dropbox/documents/coding/turbovax-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hugema/Dropbox/documents/coding/turbovax-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/hugema/Dropbox/documents/coding/turbovax-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/hugema/Dropbox/documents/coding/turbovax-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import axios from\"axios\";import Box from\"@material-ui/core/Box\";import Hidden from\"@material-ui/core/Hidden\";import{Card,LabelCard}from\"./index\";var useStyles=makeStyles(function(theme){return{root:{flexGrow:1},paper:{// padding: theme.spacing(2),\ntextAlign:\"center\",color:theme.palette.text.secondary}};});var Appointments=/*#__PURE__*/function(_React$Component){_inherits(Appointments,_React$Component);var _super=_createSuper(Appointments);function Appointments(){var _this;_classCallCheck(this,Appointments);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={sites:[]};return _this;}_createClass(Appointments,[{key:\"mapPersonToVars\",value:function mapPersonToVars(props){return{siteName:props.site_name,portalName:props.portal_name,updatedAt:props.updated_at,url:props.url,appointments:props.appointment_times,isAvailable:props.is_available};}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"https://spreadsheets.google.com/feeds/cells/10l-N3bDVpJPH5IWc3Jak2jzWr0BRNax65jjxzAo_tLs/5/public/full?alt=json\").then(function(res){var jsonList=res.data.feed.entry;var mappedSites=jsonList.map(function(list){return _this2.mapPersonToVars(JSON.parse(list.content.$t));});var sortedSites=mappedSites.sort(function(a,b){if(a.updatedAt>b.updatedAt){return-1;}if(a.updatedAt<b.updatedAt){return 1;}return 0;});_this2.setState({sites:mappedSites});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Hidden,{mdDown:true,children:/*#__PURE__*/_jsx(LabelCard,{})}),/*#__PURE__*/_jsxs(Hidden,{lgUp:true,children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]}),this.state.sites.map(function(site){return/*#__PURE__*/_jsx(Card,_objectSpread({},site));})]});}}]);return Appointments;}(React.Component);export{Appointments as default};","map":{"version":3,"sources":["/Users/hugema/Dropbox/documents/coding/turbovax-site/src/components/Appointments.jsx"],"names":["React","makeStyles","axios","Box","Hidden","Card","LabelCard","useStyles","theme","root","flexGrow","paper","textAlign","color","palette","text","secondary","Appointments","state","sites","props","siteName","site_name","portalName","portal_name","updatedAt","updated_at","url","appointments","appointment_times","isAvailable","is_available","get","then","res","jsonList","data","feed","entry","mappedSites","map","list","mapPersonToVars","JSON","parse","content","$t","sortedSites","sort","a","b","setState","site","Component"],"mappings":"85BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,uBAAhB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OAASC,IAAT,CAAeC,SAAf,KAAgC,SAAhC,CAEA,GAAMC,CAAAA,SAAS,CAAGN,UAAU,CAAC,SAACO,KAAD,QAAY,CACvCC,IAAI,CAAE,CACJC,QAAQ,CAAE,CADN,CADiC,CAIvCC,KAAK,CAAE,CACL;AACAC,SAAS,CAAE,QAFN,CAGLC,KAAK,CAAEL,KAAK,CAACM,OAAN,CAAcC,IAAd,CAAmBC,SAHrB,CAJgC,CAAZ,EAAD,CAA5B,C,GAWqBC,CAAAA,Y,+VACnBC,K,CAAQ,CACNC,KAAK,CAAE,EADD,C,gGAIQC,K,CAAO,CACrB,MAAO,CACLC,QAAQ,CAAED,KAAK,CAACE,SADX,CAELC,UAAU,CAAEH,KAAK,CAACI,WAFb,CAGLC,SAAS,CAAEL,KAAK,CAACM,UAHZ,CAILC,GAAG,CAAEP,KAAK,CAACO,GAJN,CAKLC,YAAY,CAAER,KAAK,CAACS,iBALf,CAMLC,WAAW,CAAEV,KAAK,CAACW,YANd,CAAP,CAQD,C,6DAEmB,iBAClB7B,KAAK,CACF8B,GADH,oHAIGC,IAJH,CAIQ,SAACC,GAAD,CAAS,CACb,GAAMC,CAAAA,QAAQ,CAAGD,GAAG,CAACE,IAAJ,CAASC,IAAT,CAAcC,KAA/B,CACA,GAAMC,CAAAA,WAAW,CAAGJ,QAAQ,CAACK,GAAT,CAAa,SAACC,IAAD,QAC/B,CAAA,MAAI,CAACC,eAAL,CAAqBC,IAAI,CAACC,KAAL,CAAWH,IAAI,CAACI,OAAL,CAAaC,EAAxB,CAArB,CAD+B,EAAb,CAApB,CAIA,GAAMC,CAAAA,WAAW,CAAGR,WAAW,CAACS,IAAZ,CAAiB,SAACC,CAAD,CAAIC,CAAJ,CAAU,CAC7C,GAAID,CAAC,CAACxB,SAAF,CAAcyB,CAAC,CAACzB,SAApB,CAA+B,CAC7B,MAAO,CAAC,CAAR,CACD,CACD,GAAIwB,CAAC,CAACxB,SAAF,CAAcyB,CAAC,CAACzB,SAApB,CAA+B,CAC7B,MAAO,EAAP,CACD,CACD,MAAO,EAAP,CACD,CARmB,CAApB,CAUA,MAAI,CAAC0B,QAAL,CAAc,CAAEhC,KAAK,CAAEoB,WAAT,CAAd,EACD,CArBH,EAsBD,C,uCAEQ,CACP,mBACE,MAAC,GAAD,yBACE,KAAC,MAAD,EAAQ,MAAM,KAAd,uBACE,KAAC,SAAD,IADF,EADF,cAIE,MAAC,MAAD,EAAQ,IAAI,KAAZ,wBACE,aADF,cAEE,aAFF,GAJF,CAQG,KAAKrB,KAAL,CAAWC,KAAX,CAAiBqB,GAAjB,CAAqB,SAACY,IAAD,qBACpB,KAAC,IAAD,kBAAUA,IAAV,EADoB,EAArB,CARH,GADF,CAcD,C,0BAxDuCpD,KAAK,CAACqD,S,SAA3BpC,Y","sourcesContent":["import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\nimport Box from \"@material-ui/core/Box\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport { Card, LabelCard } from \"./index\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    // padding: theme.spacing(2),\n    textAlign: \"center\",\n    color: theme.palette.text.secondary,\n  },\n}));\n\nexport default class Appointments extends React.Component {\n  state = {\n    sites: [],\n  };\n\n  mapPersonToVars(props) {\n    return {\n      siteName: props.site_name,\n      portalName: props.portal_name,\n      updatedAt: props.updated_at,\n      url: props.url,\n      appointments: props.appointment_times,\n      isAvailable: props.is_available,\n    };\n  }\n\n  componentDidMount() {\n    axios\n      .get(\n        `https://spreadsheets.google.com/feeds/cells/10l-N3bDVpJPH5IWc3Jak2jzWr0BRNax65jjxzAo_tLs/5/public/full?alt=json`\n      )\n      .then((res) => {\n        const jsonList = res.data.feed.entry;\n        const mappedSites = jsonList.map((list) =>\n          this.mapPersonToVars(JSON.parse(list.content.$t))\n        );\n\n        const sortedSites = mappedSites.sort((a, b) => {\n          if (a.updatedAt > b.updatedAt) {\n            return -1;\n          }\n          if (a.updatedAt < b.updatedAt) {\n            return 1;\n          }\n          return 0;\n        });\n\n        this.setState({ sites: mappedSites });\n      });\n  }\n\n  render() {\n    return (\n      <Box>\n        <Hidden mdDown>\n          <LabelCard />\n        </Hidden>\n        <Hidden lgUp>\n          <br></br>\n          <br></br>\n        </Hidden>\n        {this.state.sites.map((site) => (\n          <Card {...site} />\n        ))}\n      </Box>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}